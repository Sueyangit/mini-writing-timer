<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>ååˆ†é’Ÿä¸“æ³¨å†™ä½œ</title>
    <style>
	
	 /* æ–°å¢å¸®åŠ©ç›¸å…³æ ·å¼ */
        #help-link {
            position: fixed;
            bottom: 20px;
    left: 50%; /* æ”¹ä¸ºæ°´å¹³ä¸­çº¿å®šä½ */
    transform: translateX(-50%); /* å‘å·¦å›é€€è‡ªèº«50%å®½åº¦å®ç°å±…ä¸­ */
            color: #666;
            text-decoration: none;
            font-size: 14px;
            transition: color 0.3s;
        }


        #help-link:hover {
            color: #4CAF50;
            text-decoration: underline;
        }

        #help-overlay {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.2);
            max-width: 600px;
            z-index: 2000;
        }

        .help-section {
            margin-bottom: 20px;
        }

        .help-section h3 {
            color: #4CAF50;
            margin: 10px 0;
        }

        .help-section ul {
            padding-left: 20px;
        }

        .overlay-close {
            position: absolute;
            top: 15px;
            right: 15px;
            cursor: pointer;
            font-size: 24px;
            color: #666;
        }
		
		/* æ–°å¢å¼•ç”¨æ ·å¼ */
blockquote {
    border-left: 4px solid #4CAF50;
    margin: 15px 0;
    padding: 10px 20px;
    background: #f8f8f8;
    color: #666;
    font-style: italic;
}

/* äºŒçº§åˆ—è¡¨ç¼©è¿› */
.help-section ul ul {
    padding-left: 25px;
    list-style-type: circle;
}

/* å°å­—æ³¨é‡Š */
.help-section small {
    display: block;
    margin-top: 5px;
    color: #999;
}
		
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            font-family: Arial, sans-serif;
            padding: 20px;
            position: relative; /* æ·»åŠ ç›¸å¯¹å®šä½ */
        }

        #timer {
            font-size: 40px;
            margin: 20px;
            color: #333;
        }

        #text-box {
            width: 80%;
            height: 300px;
            margin: 20px;
            padding: 15px;
            font-size: 16px;
            border: 2px solid #ccc;
            border-radius: 5px;
            resize: vertical;
        }

        #start-btn {
            padding: 12px 30px;
            font-size: 18px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        #start-btn:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }

        #status {
            margin-top: 20px;
            color: #666;
        }

        #word-count {
            position: fixed; /* æ”¹ä¸ºå›ºå®šå®šä½ */
            bottom: 20px;
            right: 20px;
            color: #666;
            background: rgba(255, 255, 255, 0.9);
            padding: 8px 15px;
			font-size: 14px;
            border-radius: 4px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            z-index: 1000;
        }
    </style>
</head>
<body>
    <div id="timer">10:00</div>
    <textarea id="text-box" placeholder="åœ¨è¿™é‡Œè¾“å…¥ä½ çš„æ–‡å­—..." disabled></textarea>
    <button id="start-btn">å¼€å§‹å†™ä½œ</button>
    <div id="status"></div>
    <div id="word-count">å­—æ•°ï¼š0</div> <!-- ç§»åŠ¨åˆ°bodyæœ«å°¾ -->
 <!-- æ–°å¢å¸®åŠ©é“¾æ¥ -->
    <a href="#" id="help-link">ä½¿ç”¨å¸®åŠ©</a>

    <!-- å¸®åŠ©å†…å®¹å¼¹çª— -->
    <div id="help-overlay">
        <div class="overlay-close" onclick="toggleHelp()">Ã—</div>
        <div class="help-section">
            <h2>ğŸ“ ååˆ†é’Ÿä¸“æ³¨å†™ä½œæŒ‡å—</h2>
            <p>æ¬¢è¿ä½¿ç”¨æœ¬å†™ä½œå·¥å…·ï¼Œè¯·éµå¾ªä»¥ä¸‹æ­¥éª¤è·å¾—æœ€ä½³ä½“éªŒï¼š</p>
        </div>

        <div class="help-section">
            <h3>â–¶ï¸ å¼€å§‹ä½¿ç”¨</h3>
            <ul>
                <li>ç‚¹å‡»ç»¿è‰²ã€Œå¼€å§‹å†™ä½œã€æŒ‰é’®å¯åŠ¨å€’è®¡æ—¶</li>
                <li>æ–‡æœ¬æ¡†ä¼šè‡ªåŠ¨æ¿€æ´»å¹¶è¿›å…¥å¯ç¼–è¾‘çŠ¶æ€</li>
                <li>å€’è®¡æ—¶æœŸé—´è¯·ä¸“æ³¨å†™ä½œä¸è¦ä¸­æ–­</li>
            </ul>
        </div>

        <div class="help-section">
            <h3>â³ å€’è®¡æ—¶åŠŸèƒ½</h3>
            <ul>
                <li>é»˜è®¤å€’è®¡æ—¶10åˆ†é’Ÿï¼ˆå¯ä¿®æ”¹ä»£ç è°ƒæ•´æ—¶é•¿ï¼‰</li>
                <li>ç»“æŸæ—¶æœ‰å£°éŸ³æç¤ºï¼ˆéœ€æµè§ˆå™¨å…è®¸ï¼‰</li>
            </ul>
        </div>

        <div class="help-section">
            <h3>ğŸ“Š å­—æ•°ç»Ÿè®¡</h3>
            <ul>
                <li>å³ä¸‹è§’å®æ—¶æ˜¾ç¤ºå­—æ•°ç»Ÿè®¡ï¼Œä¸­æ–‡æŒ‰å­—ç¬¦è®¡æ•°ï¼Œè‹±æ–‡æŒ‰å•è¯è®¡æ•°</li>
                <li>å€’è®¡æ—¶ç»“æŸè‡ªåŠ¨æ˜¾ç¤ºæœ€ç»ˆå­—æ•°</li>
            </ul>
        </div>

        <div class="help-section">
            <h3>ğŸ“‹ å†…å®¹å¤„ç†</h3>
            <ul>
                <li>å€’è®¡æ—¶ç»“æŸè‡ªåŠ¨å¤åˆ¶å†…å®¹åˆ°å‰ªè´´æ¿ï¼ˆéœ€æµè§ˆå™¨å…è®¸ï¼‰</li>
                <li>æ–‡æœ¬æ¡†å†…å®¹ä¼šè‡ªåŠ¨æ¸…ç©º</li>
                <li>æ„å¤–å…³é—­é¡µé¢ä¼šå¯¼è‡´å†…å®¹ä¸¢å¤±ï¼Œè¯·åŠæ—¶ä¿å­˜</li>
            </ul>
        </div>
		    <div class="help-section">
        <h2>ğŸ“– é¸£è°¢</h2>
        <p>æœ¬å·¥å…·çµæ„Ÿæºè‡ªçŠ¯ç½ªå°è¯´å¤§å¸ˆ<em>åŠ³ä¼¦æ–¯Â·å¸ƒæ´›å…‹</em>åœ¨ã€Šä¸ºä½ çš„ç”Ÿæ´»å†™ä½œã€‹ä¸­æå‡ºçš„å†™ä½œæ³•ï¼š</p>
        <blockquote>
            "æ¯å¤©ç»™è‡ªå·±10åˆ†é’Ÿï¼ŒåƒèŒä¸šä½œå®¶é‚£æ ·åä¸‹æ¥å†™ã€‚ä¸åˆ æ”¹ã€ä¸åœé¡¿ã€ä¸æ‰¾å€Ÿå£â€”â€”è®©æ–‡å­—è‡ªç”±æµæ·Œ"
        </blockquote>
    </div>

    <div class="help-section">
        <h3>ğŸ§  ç§‘å­¦å†™ä½œæ³•</h3>
        <ul>
            <li>â±ï¸ <strong>æ—¶é—´ç›’æ•ˆåº”</strong>ï¼šçŸ­æ—¶é—´ä¸“æ³¨æ¯”é•¿æ—¶é—´ä½æ•ˆæ›´æœ‰äº§å‡º</li>
            <li>ğŸš« <strong>ç¦ç¼–è¾‘æ¨¡å¼</strong>ï¼šå…³é—­å†…åœ¨æ‰¹åˆ¤è€…ï¼Œæ¿€å‘åŸå§‹åˆ›é€ åŠ›</li>
            <li>ğŸ“ˆ <strong>ç´¯ç§¯æ•ˆåº”</strong>ï¼šæ¯å¤©10åˆ†é’Ÿï¼Œæ¯æœˆå¯å¾—5å°æ—¶çº¯åˆ›ä½œæ—¶é—´</li>
        </ul>
    </div>

    <div class="help-section">
        <p style="color:#999;font-size:0.9em;margin-top:5px;">
            â€» å¸ƒæ´›å…‹å¼å¿ å‘Šï¼šâ€œè‡ªåŠ¨å†™ä½œâ€è¿™ä¸ªç‰¹åˆ«çš„æœ¯è¯­ä¹Ÿè¢«ç”¨äºä¸€ç§æ‰€è°“çš„â€œé€šçµä¿®ç‚¼â€ï¼Œå³åˆ©ç”¨å åœæ¿ï¼Œé€šè¿‡è‡ªå·±çš„ä¹¦å†™ä¼ è¾¾çµé­‚çš„å£°éŸ³
        </p>
    </div>
    </div>

    <script>
	
	 // æ–°å¢å¸®åŠ©å¼¹çª—æ§åˆ¶é€»è¾‘
        const helpOverlay = document.getElementById('help-overlay');
        const helpLink = document.getElementById('help-link');

        function toggleHelp() {
            helpOverlay.style.display = helpOverlay.style.display === 'block' ? 'none' : 'block';
        }

        helpLink.addEventListener('click', function(e) {
            e.preventDefault();
            toggleHelp();
        });

        // ç‚¹å‡»å¼¹çª—å¤–åŒºåŸŸå…³é—­
        window.addEventListener('click', function(e) {
            if (e.target === helpOverlay) {
                toggleHelp();
            }
        });

        // åŸæœ‰å…¶ä»–ä»£ç ä¿æŒä¸å˜
        // ...ï¼ˆä¹‹å‰çš„JavaScriptä»£ç ï¼‰
		
        const timerDisplay = document.getElementById('timer');
        const textBox = document.getElementById('text-box');
        const startBtn = document.getElementById('start-btn');
        const statusDiv = document.getElementById('status');
        const wordCountDiv = document.getElementById('word-count');

        let timeLeft = 600; // 10åˆ†é’Ÿï¼ˆå•ä½ï¼šç§’ï¼‰
        let timerId = null;

        // å®æ—¶å­—æ•°ç»Ÿè®¡
        textBox.addEventListener('input', updateWordCount);
        
        function updateWordCount() {
            const content = textBox.value;
            // ç»Ÿè®¡è§„åˆ™ï¼šä¸­æ–‡æŒ‰å­—è®¡æ•°ï¼Œè‹±æ–‡æŒ‰å•è¯è®¡æ•°
            const chineseCharCount = content.match(/[\u4e00-\u9fa5]/g)?.length || 0;
            const englishWordCount = content.trim().split(/\s+/).filter(word => word.length > 0).length;
            const total = chineseCharCount + englishWordCount;
            
            wordCountDiv.textContent = `å­—æ•°ç»Ÿè®¡ï¼š
ä¸­æ–‡ï¼š${chineseCharCount} å­—
è‹±æ–‡ï¼š${englishWordCount} è¯
æ€»è®¡ï¼š${total}`;
        }

        function updateTimerDisplay(seconds) {
            const mins = Math.floor(seconds / 60).toString().padStart(2, '0');
            const secs = (seconds % 60).toString().padStart(2, '0');
            timerDisplay.textContent = `${mins}:${secs}`;
        }

        async function copyToClipboard(text, count) {
            try {
                await navigator.clipboard.writeText(text);
                statusDiv.innerHTML = `å†…å®¹å·²è‡ªåŠ¨å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼<br>å…±åˆ›ä½œäº† <strong>${count}</strong> å­—`;
                setTimeout(() => statusDiv.textContent = '', 5000);
            } catch (err) {
                console.error('å¤åˆ¶å¤±è´¥:', err);
                statusDiv.textContent = 'è‡ªåŠ¨å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶å†…å®¹';
            }
        }

        function startTimer() {
            startBtn.disabled = true;
            textBox.disabled = false;
            textBox.focus();
            updateWordCount(); // åˆå§‹åŒ–å­—æ•°æ˜¾ç¤º
            
            timerId = setInterval(() => {
                timeLeft--;
                updateTimerDisplay(timeLeft);

                if (timeLeft <= 0) {
                    clearInterval(timerId);
                    const content = textBox.value;
                    const finalCount = wordCountDiv.textContent.match(/æ€»è®¡ï¼š(\d+)/)[1];
                    textBox.value = '';
                    textBox.disabled = true;
                    startBtn.disabled = false;
                    timeLeft = 600;
                    updateTimerDisplay(timeLeft);
                    wordCountDiv.textContent = 'å­—æ•°ï¼š0';
                    
                    if (content) {
                        copyToClipboard(content, finalCount);
                    }
                }
            }, 1000);
        }

        startBtn.addEventListener('click', startTimer);
    </script>
</body>

<a href="https://github.com/Sueyangit/mini-writing-timer/issues/new?template=feedback.yml" 
   id="feedback-link"
   target="_blank"
   rel="noopener noreferrer">
    ğŸ’¬ æäº¤åé¦ˆ
</a>

<style>
#feedback-link {
    position: fixed;
    left: 20px;
    bottom: 20px;
    padding: 12px 20px;
    color: #666;
    text-decoration: none;
    transition: color 0.3s ;
	font-size: 14px;
}

#feedback-link:hover {
    color: #4CAF50;
            text-decoration: underline;
}
</style>
</html>
